/* Component Classes */

/* Buttons */
.btn {
  @apply inline-flex items-center justify-center rounded-md text-sm font-medium
         transition-colors focus-visible:outline-none focus-visible:ring-2
         focus-visible:ring-ring focus-visible:ring-offset-2
         disabled:pointer-events-none disabled:opacity-50;
}

.btn-primary {
  @apply bg-primary text-primary-foreground hover:brightness-90;
}

.btn-secondary {
  @apply bg-secondary text-secondary-foreground hover:brightness-95;
}

.btn-outline {
  @apply border border-input bg-background hover:bg-accent hover:text-accent-foreground;
}

.btn-ghost {
  @apply hover:bg-accent hover:text-accent-foreground;
}

.btn-destructive {
  @apply bg-destructive text-destructive-foreground hover:brightness-90;
}

/* Button sizes */
.btn-sm {
  @apply h-9 px-3;
}

.btn-md {
  @apply h-10 px-4 py-2;
}

.btn-lg {
  @apply h-11 px-8;
}

.btn-icon {
  @apply h-10 w-10;
}

/* Cards */
.card {
  @apply rounded-lg border bg-card text-card-foreground shadow-sm;
}

.card-header {
  @apply flex flex-col space-y-1.5 p-6;
}

.card-title {
  @apply text-2xl font-semibold leading-none tracking-tight;
}

.card-description {
  @apply text-sm text-muted-foreground;
}

.card-content {
  @apply p-6 pt-0;
}

.card-footer {
  @apply flex items-center p-6 pt-0;
}

/* Forms */
.form-group {
  @apply space-y-2;
}

.form-label {
  @apply text-sm font-medium leading-none peer-disabled:cursor-not-allowed
         peer-disabled:opacity-70;
}

.form-input {
  @apply flex h-10 w-full rounded-md border border-input bg-background px-3 py-2
         text-sm ring-offset-background file:border-0 file:bg-transparent
         file:text-sm file:font-medium placeholder:text-muted-foreground
         focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring
         focus-visible:ring-offset-2 disabled:cursor-not-allowed
         disabled:opacity-50;
}

.form-textarea {
  @apply flex min-h-[80px] w-full rounded-md border border-input bg-background
         px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground
         focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring
         focus-visible:ring-offset-2 disabled:cursor-not-allowed
         disabled:opacity-50;
}

.form-select {
  @apply flex h-10 w-full rounded-md border border-input bg-background px-3 py-2
         text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2
         focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed
         disabled:opacity-50;
}

.form-checkbox {
  @apply h-4 w-4 rounded border border-primary text-primary ring-offset-background
         focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring
         focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50;
}

.form-radio {
  @apply h-4 w-4 rounded-full border border-primary text-primary ring-offset-background
         focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring
         focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50;
}

/* Alerts */
.alert {
  @apply relative w-full rounded-lg border p-4;
}

.alert-destructive {
  @apply border-destructive text-destructive opacity-90 dark:border-destructive dark:opacity-100;
}

/* Badges */
.badge {
  @apply inline-flex items-center rounded-full border px-2 py-1 text-xs font-semibold
         transition-colors focus:outline-none focus:ring-2 focus:ring-ring
         focus:ring-offset-2;
}

.badge-default {
  @apply border-transparent bg-primary text-primary-foreground hover:brightness-90;
}

.badge-secondary {
  @apply border-transparent bg-secondary text-secondary-foreground hover:brightness-90;
}

.badge-destructive {
  @apply border-transparent bg-destructive text-destructive-foreground hover:brightness-90;
}

.badge-outline {
  @apply text-foreground;
}

/* Navigation */
.nav {
  @apply flex items-center space-x-4 lg:space-x-6;
}

.nav-link {
  @apply text-sm font-medium transition-colors hover:text-primary;
}

.nav-link-active {
  @apply text-primary;
}

/* Layout */
.container {
  @apply mx-auto max-w-7xl px-4 sm:px-6 lg:px-8;
}

.page-header {
  @apply border-b border-border bg-background opacity-95 backdrop-blur;
}

.page-title {
  @apply text-3xl font-bold tracking-tight;
}

.page-description {
  @apply text-muted-foreground;
}

.section {
  @apply py-12 sm:py-16 lg:py-20;
}

.section-title {
  @apply text-2xl font-bold tracking-tight sm:text-3xl;
}

/* Dialog/Modal */
.dialog-overlay {
  @apply fixed inset-0 z-50 bg-background opacity-80 backdrop-blur-sm;
}

.dialog-content {
  @apply fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%]
         translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200
         sm:rounded-lg;
}

.dialog-header {
  @apply flex flex-col space-y-1.5 text-center sm:text-left;
}

.dialog-title {
  @apply text-lg font-semibold leading-none tracking-tight;
}

.dialog-description {
  @apply text-sm text-muted-foreground;
}

.dialog-footer {
  @apply flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2;
}

/* Popover */
.popover-content {
  @apply z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground
         shadow-md outline-none;
}

/* Tooltip */
.tooltip-content {
  @apply z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm
         text-popover-foreground shadow-md;
}

/* Dropdown Menu */
.dropdown-content {
  @apply z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1
         text-popover-foreground shadow-md;
}

.dropdown-item {
  @apply relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5
         text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground
         data-[disabled]:pointer-events-none data-[disabled]:opacity-50;
}

/* Tabs */
.tabs-list {
  @apply inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground;
}

.tabs-trigger {
  @apply inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5
         text-sm font-medium ring-offset-background transition-all focus-visible:outline-none
         focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
         disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background
         data-[state=active]:text-foreground data-[state=active]:shadow-sm;
}

.tabs-content {
  @apply mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2
         focus-visible:ring-ring focus-visible:ring-offset-2;
}

/* Accordion */
.accordion-item {
  @apply border-b;
}

.accordion-trigger {
  @apply flex flex-1 items-center justify-between py-4 font-medium transition-all
         hover:underline [&[data-state=open]>svg]:rotate-180;
}

.accordion-content {
  @apply overflow-hidden text-sm transition-all;
}

/* Progress */
.progress {
  @apply relative h-4 w-full overflow-hidden rounded-full bg-secondary;
}

.progress-indicator {
  @apply h-full w-full flex-1 bg-primary transition-all;
}

/* Avatar */
.avatar {
  @apply relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full;
}

.avatar-image {
  @apply aspect-square h-full w-full;
}

.avatar-fallback {
  @apply flex h-full w-full items-center justify-center rounded-full bg-muted;
}

/* Skeleton */
.skeleton {
  @apply animate-pulse rounded-md bg-muted;
}

/* Separator */
.separator {
  @apply shrink-0 bg-border;
}

.separator-horizontal {
  @apply h-[1px] w-full;
}

.separator-vertical {
  @apply h-full w-[1px];
}

/* Enhanced button styles */
.btn-loading {
  position: relative;
  overflow: hidden;
}

.btn-loading::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 20px;
  height: 20px;
  margin: -10px 0 0 -10px;
  border: 2px solid transparent;
  border-top-color: currentColor;
  border-radius: 50%;
  animation: button-loading-spinner 1s ease-in-out infinite;
}

@keyframes button-loading-spinner {
  from {
    transform: rotate(0turn);
  }
  to {
    transform: rotate(1turn);
  }
}

/* Button focus enhancements */
z-button:focus-visible {
  outline: 2px solid hsl(var(--ring));
  outline-offset: 2px;
}

/* Button group styles */
.btn-group > z-button:not(:last-child) {
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
  border-right-width: 0;
}

.btn-group > z-button:not(:first-child):not(:last-child) {
  border-radius: 0;
  border-right-width: 0;
}

.btn-group > z-button:last-child {
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
}